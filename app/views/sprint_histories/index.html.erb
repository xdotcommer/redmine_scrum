<%= flot_includes %>
<%= javascript_include_tag "flotomatic/jquery.flot.stack.min.js", :cache => true %>

  <h2>Open Story Points (w/o Pending) for <%= @sprint.name%></h2>

  <div class='flot_dataset_picker'>
        <%#= flot_selections %>
  </div>

  <%= flot_canvas("open_points") %>

  <!-- do the actual plotting... -->
  <% flot_graph("open_points", @open_points) do %>
        <%= flot_plot("open_points") %>
        <%= flot_tooltip("open_points") %>

        open_points_flotomatic.labelFormatter = function(label, series) {
            // series is the series object for the label
            return '<a href="#' + label + '">' + label + '</a>';
        };
  <% end %>
  
  <br>

  <h2>Open Story Points for <%= @sprint.name %></h2>

  <div class='flot_dataset_picker'>
        <%#= flot_selections %>
  </div>

  <%= flot_canvas("pending_story_points") %>

  <!-- do the actual plotting... -->
  <% flot_graph("pending_story_points", @pending_story_points) do %>
        <%= flot_plot("pending_story_points") %>
        <%= flot_tooltip("pending_story_points") %>

        pending_story_points_flotomatic.labelFormatter = function(label, series) {
            // series is the series object for the label
            return '<a href="#' + label + '">' + label + '</a>';
        };
  <% end %>

  <br>

  <h2>Pending Stories for <%= @sprint.name %></h2>

  <div class='flot_dataset_picker'>
        <%#= flot_selections %>
  </div>

  <%= flot_canvas("pending_stories") %>

  <!-- do the actual plotting... -->
  <% flot_graph("pending_stories", @pending_stories) do %>
        <%= flot_plot("pending_stories") %>
        <%= flot_tooltip("pending_stories") %>

        pending_stories_flotomatic.labelFormatter = function(label, series) {
            // series is the series object for the label
            return '<a href="#' + label + '">' + label + '</a>';
        };
  <% end %>
  
  <br>

  <h2>Reopened Stories for <%= @sprint.name %></h2>

  <div class='flot_dataset_picker'>
        <%#= flot_selections %>
  </div>

  <%= flot_canvas("reopened_stories") %>

  <!-- do the actual plotting... -->
  <% flot_graph("reopened_stories", @reopened_stories) do %>
        <%= flot_plot("reopened_stories") %>
        <%= flot_tooltip("reopened_stories") %>

        reopened_stories_flotomatic.labelFormatter = function(label, series) {
            // series is the series object for the label
            return '<a href="#' + label + '">' + label + '</a>';
        };
  <% end %>

  <br>

  <h2>Closed Stories for <%= @sprint.name %></h2>

  <div class='flot_dataset_picker'>
        <%#= flot_selections %>
  </div>

  <%= flot_canvas("closed_stories") %>

  <!-- do the actual plotting... -->
  <% flot_graph("closed_stories", @closed_stories) do %>
        <%= flot_plot("closed_stories") %>
        <%= flot_tooltip("closed_stories") %>

        closed_stories_flotomatic.labelFormatter = function(label, series) {
            // series is the series object for the label
            return '<a href="#' + label + '">' + label + '</a>';
        };
  <% end %>

